% DOCUMENT FOR THE MAP OF THE AUTOMATA
\documentclass{article}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[english]{babel}
\usepackage[document]{ragged2e}

\usepackage[fleqn]{amsmath}
\usepackage{amssymb}

\usepackage{graphicx,scalerel}
\newcommand\sbullet[1][.5]{\mathbin{\ThisStyle{\vcenter{\hbox{%
  \scalebox{#1}{$\SavedStyle\bullet$}}}}}%
}

\usepackage{tikz}
\usetikzlibrary{automata, positioning, arrows}

\title{Automata 3} % Title (FILL)
\author{Victor Gerardo Rodríguez Barragán}
\date{Jun 2024} % Date (FILL)

\begin{document}
\maketitle
\includegraphics[width=\textwidth]{~/Documents/ceti/ceti_logo.png}
\newpage
\begin{center}
\section*{Map of the Automata}

\tikzset{every node/.style={scale=0.6}}

\begin{tikzpicture}[shorten >=1pt,node distance=2cm,on grid,auto] 
   \node[state, initial where=above] (q0)   {$q0$}; 
   % Create a circle for the states that are accepting the initial state
    \foreach \i [count=\ni] in {0,28,56,...,340}
     \node[state] (q\ni) [above right = {4*sin(\i)} and {4*(cos(\i)} of q0]  {$q{\ni}$};
    % \ifnum\ni=1
    %     \node[state, accepting] (q\ni) [above right={4*sin(\i)} and {4*cos(\i)} of q0] {$q{\ni}$};
    % \else
    %     \node[state] (q\ni) [above right={4*sin(\i)} and {4*cos(\i)} of q0] {$q{\ni}$};
    % \fi

    \node[state, initial] (q0) {$q0$}; 
    % error state 30 (all the way down)
    % \node [state, accepting] (q30) [below=of q0, yshift=-12cm] {$q30$};

    \node [state] (q14) [right=of q2] {$q14$};
    \node [state] (q15) [above right=of q4] {$q15$};
    \node [state, accepting] (q16) [above left=of q4] {$q16$};
    \node [state, accepting] (q17) [right=of q15, xshift=-1cm] {$q17$};

    \path[->]
        (q0) edge [bend left] node [accepting, scale=0.6] {(a-z)} (q1)
            edge [bend left] node [scale=0.6] {(0-9)} (q2)
            edge [bend left] node [scale=0.6] {"} (q3)
            edge [bend left] node [scale=0.6] {/} (q4)
            edge [bend left] node [scale=0.6] {(, )} (q5)
            edge [bend left] node [scale=0.6] {\{, \}} (q6)
            edge [bend left] node [scale=0.6] {(+)} (q7)
            edge [bend left] node [scale=0.6] {(-)} (q8)
            edge [bend left] node [scale=0.6] {$*, \ $} (q9)
            edge [bend left] node [scale=0.6] {=} (q10)
            edge [bend left] node [scale=0.6] {<, >, !} (q11)
            edge [bend left] node [scale=0.6] {\&} (q12)
            edge [bend left] node [scale=0.6] {|} (q13)
        (q1) edge [loop above] node [scale=0.6] {(a-z), (0-9), \_} ()
            % if dot then error
            % edge [bend left=30] node [] {$\sbullet$} (q30)
            edge [bend left=20] node [above, scale=0.4] {$\sum{-.}$} (q0)
        (q2) edge [loop above] node [scale=0.6] {(0-9)} ()
            edge [right] node [above, scale=0.6] {$\cdot$} (q14)
            % if not number or dot then q0
            edge [bend left=5] node [above, scale=0.4] {$\sum{-(0-9)-\sbullet}$} (q0)
        (q14) edge [loop above] node [scale=0.6] {(0-9)} ()
            % if dot then error
            % edge [bend left=30] node [] {$\sbullet$} (q30)
            edge [bend left=20] node [above, scale=0.4] {$\sum{-.}$} (q0)
            % finish if != number
            edge [bend left=8] node [scale=0.4] {$\sum{-(0-9)-\cdot}$} (q0)
        (q3) edge [loop above] node [scale=0.6] {$\sum{-"}$} () % repit until "
            edge [bend left=20] node [scale=0.6] {''} (q0)
        (q4) edge [bend left=20] node [right, scale=0.6] {$\sum{-*}$} (q15)
            edge [bend left=20] node [scale=0.6] {$\sum{-/}$} (q16)
        (q15) edge [loop above] node [scale=0.6] {$\sum{-*}$} ()
            edge [left=20] node [scale=0.6, above] {$*$} (q17)
        (q16) edge [loop above] node [scale=0.6] {$\sum{-/}$} ()
            edge [bend left=20] node [scale=0.6] {$/$} (q0)
        (q17) edge [loop above] node [scale=0.6] {$*$} ()
            edge [bend left=20] node [scale=0.6] {$\sum{-*-/}$} (q15)
            edge [bend left=20] node [scale=0.6] {$/$} (q0)
        (q5) edge [loop above] node [scale=0.6] {$\sum{-(, )}$} ()
            edge [bend left=20] node [scale=0.4] {(, )} (q0)
        (q6) edge [loop above] node [scale=0.6] {$\sum{-\{, \}}$} ()
            edge [bend left=20] node [scale=0.4] {\{, \}} (q0)
        (q7) edge [loop above] node [scale=0.6] {$\sum{-(+)}$} ()
            edge [bend left=20] node [scale=0.4] {(+)} (q0)
        (q8) edge [loop above] node [scale=0.6] {$\sum{-(+)}$} ()
            edge [bend left=20] node [scale=0.4] {(-)} (q0)
        (q9) edge [loop above] node [scale=0.6] {$\sum{-(+)}$} ()
            edge [bend left=20] node [scale=0.4] {$*, \ $} (q0)
        (q10) edge [loop below] node [scale=0.6] {$\sum{-(+)}$} ()
            edge [bend left=20] node [scale=0.4] {=} (q0)
        (q11) edge [loop below] node [scale=0.6] {$\sum{-(+)}$} ()
            edge [bend left=20] node [scale=0.4] {<, >, !} (q0)
        (q12) edge [loop below] node [scale=0.6] {$\sum{-(+)}$} ()
            edge [bend left=20] node [scale=0.4] {\&} (q0)
        (q13) edge [loop below] node [scale=0.6] {$\sum{-(+)}$} ()
            edge [bend left=20] node [scale=0.4] {|} (q0)
        % (q30) edge [loop below] node [scale=0.6] {$\sum{-}$} ()


\end{tikzpicture}
\end{center}

\end{document}
